{{ partial "site_head" . }}
<body id="email-banner">
  <div id="banner">
    <div id="text" class="half">
      <h2 id="date"> {{ .Date.Format "Mon, Jan 02 @ 03:04 PM" }} </h2>
      <h2 id="room"> {{ .Params.room }} </h2>

      <div id="title-container">
        <h1 id="title"> {{ .Title }} </h1>
      </div>

      <img id="logo" src="https://ucfai.org/brand/fullmark/dark-bg-ready.svg" />
    </div>
    <div id="imgs" class="half">
      <div id="gradient"></div>
      <img id="mtbanner" src="{{ .Params.cover }}" />
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var banner_h2s = 90;
      var banner_logo = 143;
      var banner_padding = 36;

      var banner = document.getElementById("banner");

      var title = document.getElementById("title");
      /* console.log("title " + title.offsetHeight);
       */
      var container = document.getElementById("title-container");
      container.style.height =
        banner.offsetHeight - 2 * banner_padding - 2 * banner_h2s - banner_logo;
      /* console.log("container " + container.offsetHeight);
       */
      /* Resizes title */
      title.style.fontSize = parseFloat(getComputedStyle(title).fontSize);
      while (title.offsetHeight > container.offsetHeight) {
        oldTitleFontSize = parseFloat(getComputedStyle(title).fontSize);
        newTitleFontSize = parseFloat(oldTitleFontSize * 0.95);
        title.style.fontSize = newTitleFontSize + "px";
        /* Adjusts line-height on resized title, uses an arbitrary value */
        title.style.lineHeight = newTitleFontSize * 1.05 + "px";
        console.log(
          "resizing: " + oldTitleFontSize + " -> " + newTitleFontSize
        );
        console.log(title.offsetHeight, container.offsetHeight);
      }

      /* Vertically centers title */
      var padding = (container.offsetHeight - title.offsetHeight) / 2;
      title.style.paddingTop = padding;
      title.style.paddingBottom = padding;
    });
  </script>
</body>
